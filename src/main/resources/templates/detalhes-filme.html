<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Detalhes do Filme</title>
</head>
<body>
    <h1 th:text="${filme.titulo}">Título</h1>
    <p><strong>Sinopse:</strong> <span th:text="${filme.sinopse}"></span></p>
    <p><strong>Gênero:</strong> <span th:text="${filme.genero}"></span></p>
    <p><strong>Ano:</strong> <span th:text="${filme.anoLancamento}"></span></p>

    <h2>Análises</h2>
    <ul>
        <li th:each="analise : ${filme.analises}">
            <strong>Nota:</strong> <span th:text="${analise.nota}"></span><br/>
            <span th:text="${analise.texto}"></span>
        </li>
    </ul>

    <h3>Adicionar Análise</h3>
    <form th:action="@{/filmes/{id}/analises(id=${filme.id})}" method="post" th:object="${analise}">
        <label>Nota:</label>
        <input type="number" min="0" max="10" th:field="*{nota}" required/><br/>
        <label>Análise:</label>
        <textarea th:field="*{texto}" required></textarea><br/>
        <button type="submit">Enviar</button>
    </form>

    <a th:href="@{/filmes}">Voltar para lista</a>
</body>
</html>
